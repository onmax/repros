diff --git a/dist/module.mjs b/dist/module.mjs
index 4d59df6ff1e84832b835d220175acf62fe68a7b4..df3286fc5d2679a578547689593b64bdf046e7d2 100644
--- a/dist/module.mjs
+++ b/dist/module.mjs
@@ -1,6 +1,6 @@
 import { existsSync } from 'node:fs';
 import { mkdir, writeFile } from 'node:fs/promises';
-import { defineNuxtModule, createResolver, hasNuxtModule, addTemplate, addTypeTemplate, updateTemplates, addServerImportsDir, addServerScanDir, addServerHandler, addImportsDir, addPlugin, addComponentsDir, extendPages } from '@nuxt/kit';
+import { defineNuxtModule, createResolver, hasNuxtModule, addTemplate, addTypeTemplate, updateTemplates, addServerImportsDir, addServerImports, addServerScanDir, addServerHandler, addImportsDir, addPlugin, addComponentsDir, extendPages } from '@nuxt/kit';
 import { consola as consola$1 } from 'consola';
 import { defu } from 'defu';
 import { join } from 'pathe';
@@ -162,7 +162,15 @@ function getMysqlType(type, fieldName) {
 }
 async function loadUserAuthConfig(configPath, throwOnError = false) {
   const { createJiti } = await import('jiti');
-  const jiti = createJiti(import.meta.url, { interopDefault: true });
+  const { defineServerAuth } = await import('../dist/runtime/config.js');
+  const jiti = createJiti(import.meta.url, { interopDefault: true, moduleCache: false });
+  const key = "defineServerAuth";
+  const g = globalThis;
+  if (!g[key]) {
+    defineServerAuth._count = 0;
+    g[key] = defineServerAuth;
+  }
+  g[key]._count++;
   try {
     const mod = await jiti.import(configPath);
     const configFn = typeof mod === "object" && mod !== null && "default" in mod ? mod.default : mod;
@@ -179,6 +187,11 @@ async function loadUserAuthConfig(configPath, throwOnError = false) {
     }
     consola$1.error("[@onmax/nuxt-better-auth] Failed to load auth config for schema generation. Schema may be incomplete:", error);
     return {};
+  } finally {
+    g[key]._count--;
+    if (!g[key]._count) {
+      delete g[key];
+    }
   }
 }
 
@@ -370,6 +383,7 @@ export {}
       }
     });
     addServerImportsDir(resolver.resolve("./runtime/server/utils"));
+    addServerImports([{ name: "defineServerAuth", from: resolver.resolve("./runtime/config") }]);
     addServerScanDir(resolver.resolve("./runtime/server/middleware"));
     addServerHandler({ route: "/api/auth/**", handler: resolver.resolve("./runtime/server/api/auth/[...all]") });
     addImportsDir(resolver.resolve("./runtime/app/composables"));
