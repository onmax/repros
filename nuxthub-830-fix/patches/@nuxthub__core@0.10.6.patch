diff --git a/dist/module.mjs b/dist/module.mjs
index 1ef9c1437928b792369a168489dbf4ac6842e334..cae6914cff6a3ba3a206f1f24362360c76606f15 100644
--- a/dist/module.mjs
+++ b/dist/module.mjs
@@ -836,17 +836,17 @@ async function setupBlob(nuxt, hub, deps) {
   }
   const blobContent = `import { createBlobStorage } from "@nuxthub/core/blob";
 import { createDriver } from "@nuxthub/core/blob/drivers/${driver}";
-
+	
 export { ensureBlob } from "@nuxthub/core/blob";
 export const blob = createBlobStorage(createDriver(${JSON.stringify(driverOptions)}));
 `;
-  const physicalBlobDir = join(nuxt.options.rootDir, "node_modules", "@nuxthub", "blob");
-  await mkdir(physicalBlobDir, { recursive: true });
-  await writeFile(join(physicalBlobDir, "blob.mjs"), blobContent);
-  await copyFile(
-    resolve("blob/runtime/blob.d.ts"),
-    join(physicalBlobDir, "blob.d.ts")
-  );
+  const blobShimTemplate = addTemplate({
+    filename: "hub/blob.mjs",
+    write: true,
+    getContents: () => blobContent
+  });
+  nuxt.options.alias["@nuxthub/blob"] = blobShimTemplate.dst;
+  nuxt.options.alias["hub:blob"] = blobShimTemplate.dst;
   const packageJson = {
     name: "@nuxthub/blob",
     version: "0.0.0",
@@ -858,16 +858,31 @@ export const blob = createBlobStorage(createDriver(${JSON.stringify(driverOption
       }
     }
   };
-  await writeFile(join(physicalBlobDir, "package.json"), JSON.stringify(packageJson, null, 2));
-  nuxt.options.alias["hub:blob"] = "@nuxthub/blob";
   addServerImports({ name: "blob", from: "@nuxthub/blob", meta: { description: `The Blob storage instance.` } });
   addServerImports({ name: "ensureBlob", from: "@nuxthub/blob", meta: { description: `Ensure the blob is valid and meets the specified requirements.` } });
   addTypeTemplate({
     filename: "hub/blob.d.ts",
-    getContents: () => `declare module 'hub:blob' {
+    getContents: () => `import type { BlobStorage, BlobEnsureOptions } from '@nuxthub/core/blob'
+
+declare module '@nuxthub/blob' {
+  export const blob: BlobStorage
+  export const ensureBlob: (blob: Blob, options: BlobEnsureOptions) => void
+}
+
+declare module 'hub:blob' {
   export * from '@nuxthub/blob'
 }`
   }, { nitro: true, nuxt: true });
+  nuxt.hook("nitro:build:before", async () => {
+    const physicalBlobDir = join(nuxt.options.rootDir, "node_modules", "@nuxthub", "blob");
+    await mkdir(physicalBlobDir, { recursive: true });
+    await writeFile(join(physicalBlobDir, "blob.mjs"), blobContent);
+    await copyFile(
+      resolve("blob/runtime/blob.d.ts"),
+      join(physicalBlobDir, "blob.d.ts")
+    );
+    await writeFile(join(physicalBlobDir, "package.json"), JSON.stringify(packageJson, null, 2));
+  });
   if (blobConfig.driver === "vercel-blob") {
     nuxt.options.runtimeConfig.public.hub ||= {};
     nuxt.options.runtimeConfig.public.hub.blobProvider = "vercel-blob";
